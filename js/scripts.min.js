!function(a){"use strict";a.fn.fitVids=function(b){var c={customSelector:null,ignore:null};if(!document.getElementById("fit-vids-style")){var d=document.head||document.getElementsByTagName("head")[0],e=".fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}",f=document.createElement("div");f.innerHTML='<p>x</p><style id="fit-vids-style">'+e+"</style>",d.appendChild(f.childNodes[1])}return b&&a.extend(c,b),this.each(function(){var b=['iframe[src*="player.vimeo.com"]','iframe[src*="youtube.com"]','iframe[src*="youtube-nocookie.com"]','iframe[src*="kickstarter.com"][src*="video.html"]',"object","embed"];c.customSelector&&b.push(c.customSelector);var d=".fitvidsignore";c.ignore&&(d=d+", "+c.ignore);var e=a(this).find(b.join(","));e=e.not("object object"),e=e.not(d),e.each(function(b){var c=a(this);if(!(c.parents(d).length>0||"embed"===this.tagName.toLowerCase()&&c.parent("object").length||c.parent(".fluid-width-video-wrapper").length)){c.css("height")||c.css("width")||!isNaN(c.attr("height"))&&!isNaN(c.attr("width"))||(c.attr("height",9),c.attr("width",16));var e="object"===this.tagName.toLowerCase()||c.attr("height")&&!isNaN(parseInt(c.attr("height"),10))?parseInt(c.attr("height"),10):c.height(),f=isNaN(parseInt(c.attr("width"),10))?c.width():parseInt(c.attr("width"),10),g=e/f;if(!c.attr("id")){var h="fitvid"+b;c.attr("id",h)}c.wrap('<div class="fluid-width-video-wrapper"></div>').parent(".fluid-width-video-wrapper").css("padding-top",100*g+"%"),c.removeAttr("height").removeAttr("width")}})})}}(window.jQuery||window.Zepto),!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a(jQuery)}(function(a){a.extend(a.fn,{validate:function(b){if(!this.length)return void(b&&b.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing."));var c=a.data(this[0],"validator");return c?c:(this.attr("novalidate","novalidate"),c=new a.validator(b,this[0]),a.data(this[0],"validator",c),c.settings.onsubmit&&(this.validateDelegate(":submit","click",function(b){c.settings.submitHandler&&(c.submitButton=b.target),a(b.target).hasClass("cancel")&&(c.cancelSubmit=!0),void 0!==a(b.target).attr("formnovalidate")&&(c.cancelSubmit=!0)}),this.submit(function(b){function d(){var d,e;return c.settings.submitHandler?(c.submitButton&&(d=a("<input type='hidden'/>").attr("name",c.submitButton.name).val(a(c.submitButton).val()).appendTo(c.currentForm)),e=c.settings.submitHandler.call(c,c.currentForm,b),c.submitButton&&d.remove(),void 0!==e?e:!1):!0}return c.settings.debug&&b.preventDefault(),c.cancelSubmit?(c.cancelSubmit=!1,d()):c.form()?c.pendingRequest?(c.formSubmitted=!0,!1):d():(c.focusInvalid(),!1)})),c)},valid:function(){var b,c;return a(this[0]).is("form")?b=this.validate().form():(b=!0,c=a(this[0].form).validate(),this.each(function(){b=c.element(this)&&b})),b},removeAttrs:function(b){var c={},d=this;return a.each(b.split(/\s/),function(a,b){c[b]=d.attr(b),d.removeAttr(b)}),c},rules:function(b,c){var d,e,f,g,h,i,j=this[0];if(b)switch(d=a.data(j.form,"validator").settings,e=d.rules,f=a.validator.staticRules(j),b){case"add":a.extend(f,a.validator.normalizeRule(c)),delete f.messages,e[j.name]=f,c.messages&&(d.messages[j.name]=a.extend(d.messages[j.name],c.messages));break;case"remove":return c?(i={},a.each(c.split(/\s/),function(b,c){i[c]=f[c],delete f[c],"required"===c&&a(j).removeAttr("aria-required")}),i):(delete e[j.name],f)}return g=a.validator.normalizeRules(a.extend({},a.validator.classRules(j),a.validator.attributeRules(j),a.validator.dataRules(j),a.validator.staticRules(j)),j),g.required&&(h=g.required,delete g.required,g=a.extend({required:h},g),a(j).attr("aria-required","true")),g.remote&&(h=g.remote,delete g.remote,g=a.extend(g,{remote:h})),g}}),a.extend(a.expr[":"],{blank:function(b){return!a.trim(""+a(b).val())},filled:function(b){return!!a.trim(""+a(b).val())},unchecked:function(b){return!a(b).prop("checked")}}),a.validator=function(b,c){this.settings=a.extend(!0,{},a.validator.defaults,b),this.currentForm=c,this.init()},a.validator.format=function(b,c){return 1===arguments.length?function(){var c=a.makeArray(arguments);return c.unshift(b),a.validator.format.apply(this,c)}:(arguments.length>2&&c.constructor!==Array&&(c=a.makeArray(arguments).slice(1)),c.constructor!==Array&&(c=[c]),a.each(c,function(a,c){b=b.replace(new RegExp("\\{"+a+"\\}","g"),function(){return c})}),b)},a.extend(a.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusCleanup:!1,focusInvalid:!0,errorContainer:a([]),errorLabelContainer:a([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(a){this.lastActive=a,this.settings.focusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,a,this.settings.errorClass,this.settings.validClass),this.hideThese(this.errorsFor(a)))},onfocusout:function(a){this.checkable(a)||!(a.name in this.submitted)&&this.optional(a)||this.element(a)},onkeyup:function(a,b){(9!==b.which||""!==this.elementValue(a))&&(a.name in this.submitted||a===this.lastElement)&&this.element(a)},onclick:function(a){a.name in this.submitted?this.element(a):a.parentNode.name in this.submitted&&this.element(a.parentNode)},highlight:function(b,c,d){"radio"===b.type?this.findByName(b.name).addClass(c).removeClass(d):a(b).addClass(c).removeClass(d)},unhighlight:function(b,c,d){"radio"===b.type?this.findByName(b.name).removeClass(c).addClass(d):a(b).removeClass(c).addClass(d)}},setDefaults:function(b){a.extend(a.validator.defaults,b)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date ( ISO ).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",maxlength:a.validator.format("Please enter no more than {0} characters."),minlength:a.validator.format("Please enter at least {0} characters."),rangelength:a.validator.format("Please enter a value between {0} and {1} characters long."),range:a.validator.format("Please enter a value between {0} and {1}."),max:a.validator.format("Please enter a value less than or equal to {0}."),min:a.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:!1,prototype:{init:function(){function b(b){var c=a.data(this[0].form,"validator"),d="on"+b.type.replace(/^validate/,""),e=c.settings;e[d]&&!this.is(e.ignore)&&e[d].call(c,this[0],b)}this.labelContainer=a(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||a(this.currentForm),this.containers=a(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var c,d=this.groups={};a.each(this.settings.groups,function(b,c){"string"==typeof c&&(c=c.split(/\s/)),a.each(c,function(a,c){d[c]=b})}),c=this.settings.rules,a.each(c,function(b,d){c[b]=a.validator.normalizeRule(d)}),a(this.currentForm).validateDelegate(":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox']","focusin focusout keyup",b).validateDelegate("select, option, [type='radio'], [type='checkbox']","click",b),this.settings.invalidHandler&&a(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler),a(this.currentForm).find("[required], [data-rule-required], .required").attr("aria-required","true")},form:function(){return this.checkForm(),a.extend(this.submitted,this.errorMap),this.invalid=a.extend({},this.errorMap),this.valid()||a(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var a=0,b=this.currentElements=this.elements();b[a];a++)this.check(b[a]);return this.valid()},element:function(b){var c=this.clean(b),d=this.validationTargetFor(c),e=!0;return this.lastElement=d,void 0===d?delete this.invalid[c.name]:(this.prepareElement(d),this.currentElements=a(d),e=this.check(d)!==!1,e?delete this.invalid[d.name]:this.invalid[d.name]=!0),a(b).attr("aria-invalid",!e),this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),e},showErrors:function(b){if(b){a.extend(this.errorMap,b),this.errorList=[];for(var c in b)this.errorList.push({message:b[c],element:this.findByName(c)[0]});this.successList=a.grep(this.successList,function(a){return!(a.name in b)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){a.fn.resetForm&&a(this.currentForm).resetForm(),this.submitted={},this.lastElement=null,this.prepareForm(),this.hideErrors(),this.elements().removeClass(this.settings.errorClass).removeData("previousValue").removeAttr("aria-invalid")},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(a){var b,c=0;for(b in a)c++;return c},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(a){a.not(this.containers).text(""),this.addWrapper(a).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{a(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(b){}},findLastActive:function(){var b=this.lastActive;return b&&1===a.grep(this.errorList,function(a){return a.element.name===b.name}).length&&b},elements:function(){var b=this,c={};return a(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled], [readonly]").not(this.settings.ignore).filter(function(){return!this.name&&b.settings.debug&&window.console&&console.error("%o has no name assigned",this),this.name in c||!b.objectLength(a(this).rules())?!1:(c[this.name]=!0,!0)})},clean:function(b){return a(b)[0]},errors:function(){var b=this.settings.errorClass.split(" ").join(".");return a(this.settings.errorElement+"."+b,this.errorContext)},reset:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=a([]),this.toHide=a([]),this.currentElements=a([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(a){this.reset(),this.toHide=this.errorsFor(a)},elementValue:function(b){var c,d=a(b),e=b.type;return"radio"===e||"checkbox"===e?a("input[name='"+b.name+"']:checked").val():"number"===e&&"undefined"!=typeof b.validity?b.validity.badInput?!1:d.val():(c=d.val(),"string"==typeof c?c.replace(/\r/g,""):c)},check:function(b){b=this.validationTargetFor(this.clean(b));var c,d,e,f=a(b).rules(),g=a.map(f,function(a,b){return b}).length,h=!1,i=this.elementValue(b);for(d in f){e={method:d,parameters:f[d]};try{if(c=a.validator.methods[d].call(this,i,b,e.parameters),"dependency-mismatch"===c&&1===g){h=!0;continue}if(h=!1,"pending"===c)return void(this.toHide=this.toHide.not(this.errorsFor(b)));if(!c)return this.formatAndAdd(b,e),!1}catch(j){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+b.id+", check the '"+e.method+"' method.",j),j}}return h?void 0:(this.objectLength(f)&&this.successList.push(b),!0)},customDataMessage:function(b,c){return a(b).data("msg"+c.charAt(0).toUpperCase()+c.substring(1).toLowerCase())||a(b).data("msg")},customMessage:function(a,b){var c=this.settings.messages[a];return c&&(c.constructor===String?c:c[b])},findDefined:function(){for(var a=0;a<arguments.length;a++)if(void 0!==arguments[a])return arguments[a]},defaultMessage:function(b,c){return this.findDefined(this.customMessage(b.name,c),this.customDataMessage(b,c),!this.settings.ignoreTitle&&b.title||void 0,a.validator.messages[c],"<strong>Warning: No message defined for "+b.name+"</strong>")},formatAndAdd:function(b,c){var d=this.defaultMessage(b,c.method),e=/\$?\{(\d+)\}/g;"function"==typeof d?d=d.call(this,c.parameters,b):e.test(d)&&(d=a.validator.format(d.replace(e,"{$1}"),c.parameters)),this.errorList.push({message:d,element:b,method:c.method}),this.errorMap[b.name]=d,this.submitted[b.name]=d},addWrapper:function(a){return this.settings.wrapper&&(a=a.add(a.parent(this.settings.wrapper))),a},defaultShowErrors:function(){var a,b,c;for(a=0;this.errorList[a];a++)c=this.errorList[a],this.settings.highlight&&this.settings.highlight.call(this,c.element,this.settings.errorClass,this.settings.validClass),this.showLabel(c.element,c.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(a=0;this.successList[a];a++)this.showLabel(this.successList[a]);if(this.settings.unhighlight)for(a=0,b=this.validElements();b[a];a++)this.settings.unhighlight.call(this,b[a],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return a(this.errorList).map(function(){return this.element})},showLabel:function(b,c){var d,e,f,g=this.errorsFor(b),h=this.idOrName(b),i=a(b).attr("aria-describedby");g.length?(g.removeClass(this.settings.validClass).addClass(this.settings.errorClass),g.html(c)):(g=a("<"+this.settings.errorElement+">").attr("id",h+"-error").addClass(this.settings.errorClass).html(c||""),d=g,this.settings.wrapper&&(d=g.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.length?this.labelContainer.append(d):this.settings.errorPlacement?this.settings.errorPlacement(d,a(b)):d.insertAfter(b),g.is("label")?g.attr("for",h):0===g.parents("label[for='"+h+"']").length&&(f=g.attr("id").replace(/(:|\.|\[|\])/g,"\\$1"),i?i.match(new RegExp("\\b"+f+"\\b"))||(i+=" "+f):i=f,a(b).attr("aria-describedby",i),e=this.groups[b.name],e&&a.each(this.groups,function(b,c){c===e&&a("[name='"+b+"']",this.currentForm).attr("aria-describedby",g.attr("id"))}))),!c&&this.settings.success&&(g.text(""),"string"==typeof this.settings.success?g.addClass(this.settings.success):this.settings.success(g,b)),this.toShow=this.toShow.add(g)},errorsFor:function(b){var c=this.idOrName(b),d=a(b).attr("aria-describedby"),e="label[for='"+c+"'], label[for='"+c+"'] *";return d&&(e=e+", #"+d.replace(/\s+/g,", #")),this.errors().filter(e)},idOrName:function(a){return this.groups[a.name]||(this.checkable(a)?a.name:a.id||a.name)},validationTargetFor:function(b){return this.checkable(b)&&(b=this.findByName(b.name)),a(b).not(this.settings.ignore)[0]},checkable:function(a){return/radio|checkbox/i.test(a.type)},findByName:function(b){return a(this.currentForm).find("[name='"+b+"']")},getLength:function(b,c){switch(c.nodeName.toLowerCase()){case"select":return a("option:selected",c).length;case"input":if(this.checkable(c))return this.findByName(c.name).filter(":checked").length}return b.length},depend:function(a,b){return this.dependTypes[typeof a]?this.dependTypes[typeof a](a,b):!0},dependTypes:{"boolean":function(a){return a},string:function(b,c){return!!a(b,c.form).length},"function":function(a,b){return a(b)}},optional:function(b){var c=this.elementValue(b);return!a.validator.methods.required.call(this,c,b)&&"dependency-mismatch"},startRequest:function(a){this.pending[a.name]||(this.pendingRequest++,this.pending[a.name]=!0)},stopRequest:function(b,c){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[b.name],c&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(a(this.currentForm).submit(),this.formSubmitted=!1):!c&&0===this.pendingRequest&&this.formSubmitted&&(a(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(b){return a.data(b,"previousValue")||a.data(b,"previousValue",{old:null,valid:!0,message:this.defaultMessage(b,"remote")})}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(b,c){b.constructor===String?this.classRuleSettings[b]=c:a.extend(this.classRuleSettings,b)},classRules:function(b){var c={},d=a(b).attr("class");return d&&a.each(d.split(" "),function(){this in a.validator.classRuleSettings&&a.extend(c,a.validator.classRuleSettings[this])}),c},attributeRules:function(b){var c,d,e={},f=a(b),g=b.getAttribute("type");for(c in a.validator.methods)"required"===c?(d=b.getAttribute(c),""===d&&(d=!0),d=!!d):d=f.attr(c),/min|max/.test(c)&&(null===g||/number|range|text/.test(g))&&(d=Number(d)),d||0===d?e[c]=d:g===c&&"range"!==g&&(e[c]=!0);return e.maxlength&&/-1|2147483647|524288/.test(e.maxlength)&&delete e.maxlength,e},dataRules:function(b){var c,d,e={},f=a(b);for(c in a.validator.methods)d=f.data("rule"+c.charAt(0).toUpperCase()+c.substring(1).toLowerCase()),void 0!==d&&(e[c]=d);return e},staticRules:function(b){var c={},d=a.data(b.form,"validator");return d.settings.rules&&(c=a.validator.normalizeRule(d.settings.rules[b.name])||{}),c},normalizeRules:function(b,c){return a.each(b,function(d,e){if(e===!1)return void delete b[d];if(e.param||e.depends){var f=!0;switch(typeof e.depends){case"string":f=!!a(e.depends,c.form).length;break;case"function":f=e.depends.call(c,c)}f?b[d]=void 0!==e.param?e.param:!0:delete b[d]}}),a.each(b,function(d,e){b[d]=a.isFunction(e)?e(c):e}),a.each(["minlength","maxlength"],function(){b[this]&&(b[this]=Number(b[this]))}),a.each(["rangelength","range"],function(){var c;b[this]&&(a.isArray(b[this])?b[this]=[Number(b[this][0]),Number(b[this][1])]:"string"==typeof b[this]&&(c=b[this].replace(/[\[\]]/g,"").split(/[\s,]+/),b[this]=[Number(c[0]),Number(c[1])]))}),a.validator.autoCreateRanges&&(null!=b.min&&null!=b.max&&(b.range=[b.min,b.max],delete b.min,delete b.max),null!=b.minlength&&null!=b.maxlength&&(b.rangelength=[b.minlength,b.maxlength],delete b.minlength,delete b.maxlength)),b},normalizeRule:function(b){if("string"==typeof b){var c={};a.each(b.split(/\s/),function(){c[this]=!0}),b=c}return b},addMethod:function(b,c,d){a.validator.methods[b]=c,a.validator.messages[b]=void 0!==d?d:a.validator.messages[b],c.length<3&&a.validator.addClassRules(b,a.validator.normalizeRule(b))},methods:{required:function(b,c,d){if(!this.depend(d,c))return"dependency-mismatch";if("select"===c.nodeName.toLowerCase()){var e=a(c).val();return e&&e.length>0}return this.checkable(c)?this.getLength(b,c)>0:a.trim(b).length>0},email:function(a,b){return this.optional(b)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(a)},url:function(a,b){return this.optional(b)||/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(a)},date:function(a,b){return this.optional(b)||!/Invalid|NaN/.test(new Date(a).toString())},dateISO:function(a,b){return this.optional(b)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(a)},number:function(a,b){return this.optional(b)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(a)},digits:function(a,b){return this.optional(b)||/^\d+$/.test(a)},creditcard:function(a,b){if(this.optional(b))return"dependency-mismatch";if(/[^0-9 \-]+/.test(a))return!1;var c,d,e=0,f=0,g=!1;if(a=a.replace(/\D/g,""),a.length<13||a.length>19)return!1;for(c=a.length-1;c>=0;c--)d=a.charAt(c),f=parseInt(d,10),g&&(f*=2)>9&&(f-=9),e+=f,g=!g;return e%10===0},minlength:function(b,c,d){var e=a.isArray(b)?b.length:this.getLength(b,c);return this.optional(c)||e>=d},maxlength:function(b,c,d){var e=a.isArray(b)?b.length:this.getLength(b,c);return this.optional(c)||d>=e},rangelength:function(b,c,d){var e=a.isArray(b)?b.length:this.getLength(b,c);return this.optional(c)||e>=d[0]&&e<=d[1]},min:function(a,b,c){return this.optional(b)||a>=c},max:function(a,b,c){return this.optional(b)||c>=a},range:function(a,b,c){return this.optional(b)||a>=c[0]&&a<=c[1]},equalTo:function(b,c,d){var e=a(d);return this.settings.onfocusout&&e.unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){a(c).valid()}),b===e.val()},remote:function(b,c,d){if(this.optional(c))return"dependency-mismatch";var e,f,g=this.previousValue(c);return this.settings.messages[c.name]||(this.settings.messages[c.name]={}),g.originalMessage=this.settings.messages[c.name].remote,this.settings.messages[c.name].remote=g.message,d="string"==typeof d&&{url:d}||d,g.old===b?g.valid:(g.old=b,e=this,this.startRequest(c),f={},f[c.name]=b,a.ajax(a.extend(!0,{url:d,mode:"abort",port:"validate"+c.name,dataType:"json",data:f,context:e.currentForm,success:function(d){var f,h,i,j=d===!0||"true"===d;e.settings.messages[c.name].remote=g.originalMessage,j?(i=e.formSubmitted,e.prepareElement(c),e.formSubmitted=i,e.successList.push(c),delete e.invalid[c.name],e.showErrors()):(f={},h=d||e.defaultMessage(c,"remote"),f[c.name]=g.message=a.isFunction(h)?h(b):h,e.invalid[c.name]=!0,e.showErrors(f)),g.valid=j,e.stopRequest(c,j)}},d)),"pending")}}}),a.format=function(){throw"$.format has been deprecated. Please use $.validator.format instead."};var b,c={};a.ajaxPrefilter?a.ajaxPrefilter(function(a,b,d){var e=a.port;"abort"===a.mode&&(c[e]&&c[e].abort(),c[e]=d)}):(b=a.ajax,a.ajax=function(d){var e=("mode"in d?d:a.ajaxSettings).mode,f=("port"in d?d:a.ajaxSettings).port;return"abort"===e?(c[f]&&c[f].abort(),c[f]=b.apply(this,arguments),c[f]):b.apply(this,arguments)}),a.extend(a.fn,{validateDelegate:function(b,c,d){return this.bind(c,function(c){var e=a(c.target);return e.is(b)?d.apply(e,arguments):void 0})}})});var needPopup=function(){var a={};return a.html=document.documentElement,a.body=document.body,a.window=window,a.target=0,a.scrollTopVal=0,a.scrollHeight=a.body.scrollHeight>a.html.scrollHeight?a.body.scrollHeight:a.html.scrollHeight,a.openHtmlClass=a.scrollHeight>a.window.innerHeight?"needpopup-opened needpopup-scrolled":"needpopup-opened",{init:function(){a.options=needPopup.config["default"],$(a.body).on("click","[data-needpopup-show]",function(a){a.preventDefault(),needPopup.show($(this).data("needpopupShow"),$(this))}),$(a.body).on("click",".needpopup_wrapper .remove, .needpopup_remover",function(a){a.preventDefault(),needPopup.hide()}),$(a.body).on("click",".needpopup_wrapper",function(b){$(b.target).is(".needpopup_wrapper")&&a.options.closeOnOutside&&($(b.target).closest(".needpopup").length||$(b.target).is(".needpopup, .remove, .needpopup_remover")||needPopup.hide())}),$(document).keydown(function(a){27==a.which&&needPopup.hide()}),a.resizeTimeout=0,a.resizeAllowed=!0,$(a.window).on("resize",function(){clearTimeout(a.resizeTimeout),a.resizeAllowed&&(a.resizeAllowed=!1,needPopup.centrify(),a.scrollHeight=a.body.scrollHeight>a.html.scrollHeight?a.body.scrollHeight:a.html.scrollHeight,a.openHtmlClass=a.scrollHeight>a.window.innerHeight?"needpopup-opened needpopup-scrolled":"needpopup-opened"),a.resizeTimeout=setTimeout(function(){a.resizeAllowed=!0},100)}),a.wrapper=document.createElement("div"),a.wrapper.className="needpopup_wrapper",a.body.appendChild(a.wrapper),a.wrapper=$(a.wrapper)},show:function(b,c){c?a.trigger=c:a.trigger=0,a.target?needPopup.hide(!0):(a.scrollTopVal=a.window.pageYOffset,$(a.body).css({top:-a.scrollTopVal}),$(a.html).addClass(a.openHtmlClass)),a.target=$(b),a.options={},$.extend(a.options,needPopup.config["default"]),a.target.data("needpopupOptions")&&$.extend(a.options,needPopup.config[a.target.data("needpopupOptions")]),a.minWidth=a.target.outerWidth(),a.wrapper.append(a.target),"outside"==a.options.removerPlace?a.wrapper.after('<a href="#" class="needpopup_remover"></a>'):"inside"==a.options.removerPlace&&a.target.append('<a href="#" class="needpopup_remover"></a>'),a.options.onBeforeShow.call(a,a.target),a.target.show(),needPopup.centrify(),setTimeout(function(){a.target.addClass("opened"),a.options.onShow.call(a,a.target)},10)},hide:function(b){a.target.hide().removeClass("opened"),$(".needpopup_remover").remove(),b||($(a.html).removeClass(a.openHtmlClass).removeClass("needpopup-overflow"),$(a.body).css({top:0}).scrollTop(a.scrollTopVal),$(a.html).scrollTop(a.scrollTopVal)),a.options.onHide.call(a,a.target),a.target=0},centrify:function(){a.target&&(a.target.outerHeight()>a.window.innerHeight?a.target.addClass("stacked"):a.target.removeClass("stacked").css({"margin-top":-a.target.outerHeight()/2,top:"50%"}),a.minWidth=$(a.html).hasClass("needpopup-overflow")?a.minWidth:a.target.outerWidth(),a.minWidth+30>=a.window.innerWidth?$(a.html).addClass("needpopup-overflow"):$(a.html).removeClass("needpopup-overflow"))},config:{"default":{removerPlace:"inside",closeOnOutside:!0,onShow:function(){},onBeforeShow:function(){},onHide:function(){}}}}}(),needSectionScroll=function(){function a(a,b,c,d){return a/=d/2,1>a?c/2*a*a+b:(a-=1,-c/2*(a*(a-2)-1)+b)}var b={};return b.html=document.documentElement,b.body=document.body,b.window=window,b.isVhSupported=function(){var a=document.createElement("vhchecker");a.setAttribute("style","position:absolute;bottom:100%;display:block;height: 50vh;"),document.body.appendChild(a);var c=parseInt(b.window.innerHeight/2,10),d=parseInt((b.window.getComputedStyle?getComputedStyle(a,null):a.currentStyle).height,10);return d==c},b.scrollTo=function(c,d,e){var f=void 0!==b.window.pageYOffset?b.window.pageYOffset:document.documentElement.scrollTop,g=c-f,h=20,i=function(k){k+=h;var l=a(k,f,g,d);b.window.scrollTo(0,l),d>k?setTimeout(function(){i(k)},h):/iPhone|iPad|iPod/i.test(navigator.userAgent)?j(0,e,50,b.currentSection.offsetTop-c):e()},j=function(a,d,e,f){a+=5;var g=c+f*(a/e);b.window.scrollTo(0,g),e>a?setTimeout(function(){j(a,d,e,f)},h):d()};i(0)},b.isInViewport=function(a,c){var d=void 0!==b.window.pageYOffset?b.window.pageYOffset:document.documentElement.scrollTop,e=d+b.window.innerHeight,f=a.offsetTop,g=f+a.offsetHeight;return"contain"==c?e>=g&&f>=d||g>=e&&d>=f:"intersect"==c?e>f&&f>d||e>g&&g>d||g>=e&&d>=f:void 0},b.addClass=function(a,b){"-1"==a.className.search(b)&&(a.className=a.className?a.className+" "+b:b)},b.removeClass=function(a,b){var c="(^|\\s)"+b,d=new RegExp(c,"g");a.className=a.className.replace(d,"")},b.lockscroll={},b.lockscroll.keys={37:1,38:1,39:1,40:1},b.lockscroll.preventDefault=function(a){a=a||b.window.event,a.preventDefault&&a.preventDefault(),a.returnValue=!1},b.lockscroll.preventDefaultForScrollKeys=function(a){return b.lockscroll.keys[a.keyCode]?(b.lockscroll.preventDefault(a),!1):void 0},b.lockscroll.disableScroll=function(){b.window.addEventListener&&b.window.addEventListener("DOMMouseScroll",b.lockscroll.preventDefault,!1),b.window.onwheel=b.lockscroll.preventDefault,b.window.onmousewheel=document.onmousewheel=b.lockscroll.preventDefault,b.window.ontouchmove=b.lockscroll.preventDefault,document.onkeydown=b.lockscroll.preventDefaultForScrollKeys},b.lockscroll.enableScroll=function(){b.window.removeEventListener&&b.window.removeEventListener("DOMMouseScroll",b.lockscroll.preventDefault,!1),b.window.onmousewheel=document.onmousewheel=null,b.window.onwheel=null,b.window.ontouchmove=null,document.onkeydown=null},{init:function(){function a(){b.resizeTimeout=setTimeout(function(){b.resizeTimeout=0},100);var a=b.window.innerHeight;for(var c in b.sections)b.sections[c].style.minHeight=a+"px";if(b.options.verticalize){b.verticalizers=document.querySelectorAll(".needsectionscroll_section_verticalizer");for(var d=0;d<b.verticalizers.length;d++)b.verticalizers[d].style.minHeight=a+"px"}}if(b.options=needSectionScroll.config["default"],!(b.window.innerWidth<=b.options.mobileOff)){b.sections={},b.sectionsList=document.querySelectorAll("[data-sectionscroll]");for(var c=0;c<b.sectionsList.length;c++){var d=b.sectionsList[c],e=d.getAttribute("data-sectionscroll");if(b.sections[e]=d,b.addClass(d,"needsectionscroll_section"),b.options.verticalize){var f=document.createElement("div"),g=document.createElement("div");b.addClass(f,"needsectionscroll_section_content"),b.addClass(g,"needsectionscroll_section_verticalizer"),f.innerHTML=d.innerHTML,d.innerHTML="",d.appendChild(f),d.appendChild(g),b.addClass(d,"needsectionscroll_section-verticalize")}}if(b.options.pager){b.pager=document.createElement("nav"),b.pager.className="needsectionscroll_pager";for(var e in b.sections){var h=document.createElement("span");h.setAttribute("data-sectionscroll-link",e),b.pager.appendChild(h)}switch(b.options.pagerPosition){case"top":b.addClass(b.pager,"needsectionscroll_pager-top");break;case"right":b.addClass(b.pager,"needsectionscroll_pager-right");break;case"bottom":b.addClass(b.pager,"needsectionscroll_pager-bottom");break;case"left":b.addClass(b.pager,"needsectionscroll_pager-left");break;default:b.addClass(b.pager,"needsectionscroll_pager-right")}b.sections[1].parentNode.appendChild(b.pager)}if(b.isVhSupported())for(var e in b.sections)b.sections[e].style.minHeight="100vh";else b.resizeTimeout=0,b.finishTimeout=0,a(),b.window.addEventListener("resize",function(){clearTimeout(b.finishTimeout),b.resizeTimeout?b.finishTimeout=setTimeout(function(){a()},100):a()});b.window.addEventListener("scroll",function(a){if(b.moving)a.preventDefault();else{var c=void 0!==b.window.pageYOffset?b.window.pageYOffset:document.documentElement.scrollTop,d=c+b.window.innerHeight,e=b.currentSection.offsetTop,f=e+b.currentSection.offsetHeight;d>f?needSectionScroll.moveNext():e>c&&needSectionScroll.movePrev()}}),b.navLinks=document.querySelectorAll("[data-sectionscroll-link]");for(var c=0;c<b.navLinks.length;c++){var i=b.navLinks[c];i.addEventListener("click",function(){b.moving||(sectionName=this.getAttribute("data-sectionscroll-link"),needSectionScroll.move(b.sections[sectionName]))})}b.options.useArrows&&document.addEventListener("keydown",function(a){if(!b.moving){var c=a.target.tagName.toLowerCase();switch(a.which){case 38:"input"!=c&&"textarea"!=c&&(a.preventDefault(),needSectionScroll.movePrev());break;case 40:"input"!=c&&"textarea"!=c&&(a.preventDefault(),needSectionScroll.moveNext());break;case 33:"input"!=c&&"textarea"!=c&&(a.preventDefault(),needSectionScroll.movePrev());break;case 34:"input"!=c&&"textarea"!=c&&(a.preventDefault(),needSectionScroll.moveNext());break;case 36:a.preventDefault(),needSectionScroll.move(b.sections[1]);break;case 35:a.preventDefault(),needSectionScroll.move(b.sections[b.sectionsList.length]);break;default:return}}}),needSectionScroll.setCurrentSection(),b.options.onInit.call(b)}},moveNext:function(){var a=1*b.currentSectionName+1;
b.sections[a]&&needSectionScroll.move(b.sections[a])},movePrev:function(){var a=1*b.currentSectionName-1;b.sections[a]&&needSectionScroll.move(b.sections[a])},move:function(a){function c(){for(var c in b.sections)b.removeClass(b.sections[c],b.options.currentSectionClass);b.addClass(a,b.options.currentSectionClass),needSectionScroll.updateNavLinks(),setTimeout(function(){b.moving=!1,b.lockscroll.enableScroll()},b.options.moveTimeout),b.options.onMoveEnd.call(b,a)}b.moving=!0,b.lockscroll.disableScroll(),b.currentSection=a,b.currentSectionName=a.getAttribute("data-sectionscroll"),b.options.onMoveStart.call(b,a),b.scrollTo(a.offsetTop,1e3,c)},updateNavLinks:function(){for(var a=0;a<b.navLinks.length;a++){var c=b.navLinks[a];c.getAttribute("data-sectionscroll-link")==b.currentSectionName?b.addClass(c,b.options.currentNavLinkClass):b.removeClass(c,b.options.currentNavLinkClass)}},setCurrentSection:function(){for(var a in b.sections)b.isInViewport(b.sections[a],"intersect")?(b.currentSection=b.sections[a],b.currentSectionName=a,b.addClass(b.currentSection,b.options.currentSectionClass),needSectionScroll.updateNavLinks()):b.removeClass(b.sections[a],b.options.currentSectionClass)},config:{"default":{verticalize:!0,mobileOff:!1,pager:!0,pagerPosition:"right",useArrows:!0,moveTimeout:300,currentSectionClass:"current",currentNavLinkClass:"current",onInit:function(){},onMoveStart:function(){},onMoveEnd:function(){}}}}}();!function(a){"use strict";function b(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}function c(){b()?a("[data-bg-mobile]").each(function(){this.style.backgroundImage="url("+this.getAttribute("data-bg-mobile")+")"}):a("[data-bg]").each(function(){this.style.backgroundImage="url("+this.getAttribute("data-bg")+")"}),a("video").each(function(){var b=this,c=a(this);b.addEventListener("canplay",function(){console.log("canplay"),c.resizeBG()},!1),b.addEventListener("loadeddata",function(){console.log("loadeddata"),c.resizeBG()},!1),b.addEventListener("loadstart",function(){console.log("loadstart"),c.resizeBG()},!1),b.addEventListener("loadedmetadata",function(){console.log("loadedmetadata"),c.resizeBG()},!1),b.addEventListener("canplaythrough",function(){console.log("canplaythrough"),c.resizeBG()},!1)}),needPopup.init(),needSectionScroll.config["default"].onInit=function(){a("#preloader").delay(100).fadeOut(),console.log("1"),setTimeout(function(){a(".cover-background_resize").resizeBG()},2e3)},needSectionScroll.config["default"].onMoveEnd=function(){a("video").resizeBG()},needSectionScroll.init(),a(window).on("load",function(){a(".cover-background_resize").resizeBG()}),a(window).on("resize",function(){a(".cover-background_resize").resizeBG()}),a("#index-subs").validate({ignore:".ignore",errorPlacement:function(a,b){b.parent(".checkbox, .radio, .switcher").length?a.insertAfter(b.parent(".checkbox, .radio, .switcher")):b.hasClass("chosen-select")||b.hasClass("chosen-select-no-single")?a.insertAfter(b.siblings(".chosen-container")):b.closest(".input-group").length?a.insertAfter(b.closest(".input-group")):a.insertAfter(b)},submitHandler:function(b,c){c.preventDefault();var d=a(b).serializeArray();a.ajax({type:"POST",url:"subscribe/request.php",data:d,success:function(){a(b).find(".show--success").show(),a(b).find(".hide--success").hide(),setTimeout(function(){a(b).removeClass("send-error"),a(b).addClass("send-success")},1)},error:function(){a(b).find(".hide--success").show(),a(b).find(".show--success").hide(),setTimeout(function(){a(b).removeClass("send-success"),a(b).addClass("send-error")},1)}})}}),a("#index-subs").on("click",".form_revert-link",function(b){b.preventDefault();var c=a("#index-subs");c.find(".show--success").hide(),c.find(".hide--success").show(),c.trigger("reset"),setTimeout(function(){c.removeClass("send-error, send-success"),c.find("input").removeClass("error, valid")},1)}),a.fn.mediaelementplayer&&a(".video-default, .audio-default").mediaelementplayer()}a.fn.resizeBG=function(){return this.each(function(){var b,c,d,e,f=a(this),g=this,h=f.parent(),i=300,j="VIDEO"==g.tagName?g.videoWidth:g.naturalWidth,j=j?j:g.clientWidth,k="VIDEO"==g.tagName?g.videoHeight:g.naturalHeight,k=k?k:g.clientHeight,l=h.outerWidth(),m=h.outerHeight(),n=l/j,o=m/k,p=n>o?n:o;i>p*j&&(p=i/j),b=p*j,c=p*k,e=(b-l)/2*-1,d=(c-m)/2*-1,f.css({width:b,height:c,marginTop:d,marginLeft:e})})};var d=[],e=b()?mobileResources:desktopResources;a.extend({preload:function(b,c){var e=a.extend({init:function(a,b){},loaded:function(a,b,c){},loaded_all:function(a,b){}},c),f=b.length,g=0;e.init(0,f);for(var h in b){var i=b[h];if("img"==i.type)d.push(a("<img />").attr("src",i.src).load(function(){g++,e.loaded(this,g,f),g==f&&e.loaded_all(g,f)}).error(function(){g++,e.loaded(this,g,f),g==f&&e.loaded_all(g,f)}));else{var j=document.createElement("video");j.src=i.src,j.oncanplay=function(){g++,e.loaded(this,g,f),g==f&&e.loaded_all(g,f),a(".cover-background_resize").resizeBG()},a(j).error(function(){g++,e.loaded(this,g,f),g==f&&e.loaded_all(g,f)}),d.push(j)}}}}),a(function(){a.preload(e,{init:function(a,b){e.length||c()},loaded:function(b,c,d){var e=Math.round(c/d*100);a("#preloader_percent").html(e+"%")},loaded_all:function(a,b){c()}})})}(jQuery);